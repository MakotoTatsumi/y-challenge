(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{1300:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return he},default:function(){return be}});var n=r(9499),o=r(714),a=r(7294),c=r(1852),i=r(9009),u=r(1584),s=r(4195),p=r(3023),f=r(5358),l=r(4888),d=r(4141),h=r(8870),b={layout:"horizontal",align:"left",verticalAlign:"bottom"},y={layout:"vertical",align:"right",verticalAlign:"top"},g=r(5893);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(e){var t=e.data,r=e.checked,n=(0,c.useMediaQuery)({query:"(max-width: 834px)"})?b:y;return(0,g.jsx)(v,{children:(0,g.jsx)(i.h,{width:"100%",height:400,children:(0,g.jsxs)(u.w,{width:500,height:300,data:t,margin:{top:5,right:30,left:20,bottom:5},children:[(0,g.jsx)(s.q,{strokeDasharray:"3 3"}),(0,g.jsx)(p.K,{dataKey:"name"}),(0,g.jsx)(f.B,{}),(0,g.jsx)(l.u,{}),(0,g.jsx)(d.D,j(j({},n),{},{wrapperStyle:{padding:"20px"}})),r.map((function(e){return(0,g.jsx)(h.x,{type:"monotone",dataKey:e.prefName,stroke:e.colorCode,activeDot:{r:8}},e.prefCode)}))]})})})},v=o.ZP.div.withConfig({displayName:"Charts__Root",componentId:"sc-kjqe6t-0"})(["width:100%;margin:50px 0;"]),w=r(4730),x=["children"];function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=function(e){var t=e.children,r=(0,w.Z)(e,x);return(0,g.jsxs)(_,{children:[(0,g.jsx)(D,k({},r)),t]})},_=o.ZP.label.withConfig({displayName:"Checkbox__StyledLabel",componentId:"sc-1sgkg2w-0"})(["display:inline-flex;align-items:center;cursor:pointer;"]),D=o.ZP.input.attrs({type:"checkbox"}).withConfig({displayName:"Checkbox__StyledInput",componentId:"sc-1sgkg2w-1"})(["width:16px;height:16px;margin-right:5px;cursor:pointer;"]),E=function(e){var t=e.listData,r=e.handleClickCheckbox;return(0,g.jsx)(Z,{children:t.map((function(e){return(0,g.jsx)(N,{children:(0,g.jsx)(C,{onClick:function(){return r(e)},children:e.prefName})},e.prefCode)}))})},Z=o.ZP.div.withConfig({displayName:"ChecklistPopulation__Root",componentId:"sc-9gyu2y-0"})(["display:flex;flex-wrap:wrap;"]),N=o.ZP.div.withConfig({displayName:"ChecklistPopulation__CheckboxWrapper",componentId:"sc-9gyu2y-1"})(["margin:0 10px;"]),S=r(6687),q=r(29),I=r(7794),z=r.n(I),A=r(9669),R=r.n(A),L={message:"OtherError",args:[]},T={status:500,data:{message:"NetworkError",args:[]}},H=function(e){var t;return{statusCode:e.status||500,errorResponse:e.data?{message:"string"===typeof e.data?e.data:(null===(t=e.data)||void 0===t?void 0:t.message)||"OtherError",args:e.data.args||[]}:L}},X=function(){var e=(0,q.Z)(z().mark((function e(t){var r;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:if((r=e.sent).status/100!==2){e.next=6;break}return e.abrupt("return",{status:"success",data:r.body});case 6:return e.abrupt("return",{status:"error",data:H({status:r.status,data:L})});case 9:if(e.prev=9,e.t0=e.catch(0),!R().isAxiosError(e.t0)||!e.t0.response){e.next=13;break}return e.abrupt("return",{status:"error",data:H(e.t0.response)});case 13:return e.abrupt("return",{status:"error",data:H(T)});case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Y={BadRequest:"\u4e0d\u6b63\u306a\u5165\u529b\u3067\u3059\u3002",NetworkError:"\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3067\u304d\u307e\u305b\u3093\u3002\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002",NotFound:"\u30c7\u30fc\u30bf\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002\u753b\u9762\u3092\u30ea\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002",OtherError:"\u305d\u306e\u4ed6\u30a8\u30e9\u30fc\u3067\u3059\u3002\u7ba1\u7406\u8005\u306b\u554f\u3044\u5408\u308f\u305b\u3066\u304f\u3060\u3055\u3044\u3002",400:"\u4e0d\u6b63\u306a\u5165\u529b\u3067\u3059\u3002",403:"\u305d\u306e\u4ed6\u30a8\u30e9\u30fc\u3067\u3059\u3002\u7ba1\u7406\u8005\u306b\u554f\u3044\u5408\u308f\u305b\u3066\u304f\u3060\u3055\u3044\u3002",404:"\u30c7\u30fc\u30bf\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3002\u753b\u9762\u3092\u30ea\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002"},$=["400","403","404"],K=function(e){var t=e.data;if("success"===e.status){if(function(e){var t,r="string"===typeof e&&$.includes(e),n="object"===typeof(t=e)&&null!==t&&"statusCode"in e;return r||n}(t)){var r="string"===typeof t?t:t.statusCode;return Y[r||"OtherError"]}return""}return Y[t.errorResponse.message||"OtherError"]},F=function(){var e=(0,q.Z)(z().mark((function e(t){var r,n;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t);case 2:return r=e.sent,(n=K(r))&&alert(n),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=r(8416),U=r.n(M),B=r(7116),G=function(e){var t=e.baseURL,r=e.fetch,n=(void 0===t?"https://opendata.resas-portal.go.jp":t).replace(/\/$/,""),o="/api/v1/population/composition/perYear",a="/api/v1/prefectures",c="GET";return{api:{v1:{population:{composition:{perYear:{get:function(e){return r(n,o,c,e).json()},$get:function(e){return r(n,o,c,e).json().then((function(e){return e.body}))},$path:function(e){return"".concat(n).concat(o).concat(e&&e.query?"?".concat((0,B.dataToURLString)(e.query)):"")}}}},prefectures:{get:function(e){return r(n,a,c,e).json()},$get:function(e){return r(n,a,c,e).json().then((function(e){return e.body}))},$path:function(){return"".concat(n).concat(a)}}}}}};R().defaults.headers.common["X-API-KEY"]="XeAoaCs4kVq9rJAz7lpiWvcYXFFuoUhgJSZQOLAL";var J=G(U()(R())),Q=function(){var e=(0,q.Z)(z().mark((function e(t){var r;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F((function(){return J.api.v1.population.composition.perYear.get({query:{prefCode:t,cityCode:"-"}})}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ee=r(8172),te=r(7351),re=function(e){var t;return(null===(t=e.data.find((function(e){return"\u7dcf\u4eba\u53e3"===e.label})))||void 0===t?void 0:t.data)||null};function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae=function(){var e=(0,a.useState)([]),t=e[0],r=e[1],o=(0,a.useState)({}),c=o[0],i=o[1],u=(0,a.useState)(null),s=u[0],p=u[1],f=(0,a.useState)([]),l=f[0],d=f[1];(0,a.useEffect)((function(){s&&d(function(e,t,r){if(0===e.length||0===r.length)return[];var n=e.map((function(e){return e.prefName})),o=(0,te.e)(t,n);return(0,ee.ZP)(r,(function(e){Object.keys(o).forEach((function(t){Object.keys(o[t]).forEach((function(r,n){e[n][t]=o[t][r]}))}))}))}(t,c,s))}),[t,c,s]);var h=function(){var e=(0,q.Z)(z().mark((function e(t){var o,a,u,f,l;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.prefCode,a=t.prefName,r((function(e){return e.find((function(e){return e.prefCode===o}))?e.filter((function(e){return e.prefCode!==o})):[].concat((0,S.Z)(e),[oe(oe({},t),{},{colorCode:"#"+Math.floor(16777215*Math.random()).toString(16)})])})),!c[a]){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Q(o);case 6:if("success"===(u=e.sent).status){e.next=9;break}return e.abrupt("return");case 9:if(f=re(u.data.result)){e.next=12;break}return e.abrupt("return");case 12:s||(l=null===f||void 0===f?void 0:f.map((function(e){return{name:e.year}})),p(l)),i(oe(oe({},c),{},(0,n.Z)({},a,f?f.reduce((function(e,t){var r=t.value,o=t.year;return V(V({},e),{},(0,n.Z)({},o,r))}),{}):{})));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{checked:t,chartData:l,handleClickCheckbox:h}},ce=function(e){var t=e.prefectureData,r=ae(),n=r.handleClickCheckbox,o=r.chartData,a=r.checked;return(0,g.jsxs)(ie,{children:[(0,g.jsx)(ue,{children:(0,g.jsx)(se,{children:"Title"})}),(0,g.jsxs)(pe,{children:[(0,g.jsx)(fe,{children:"\u90fd\u9053\u5e9c\u770c"}),(0,g.jsx)(E,{listData:t,handleClickCheckbox:n})]}),(0,g.jsx)(m,{data:o,checked:a})]})},ie=o.ZP.div.withConfig({displayName:"Home__Root",componentId:"sc-qbo4uz-0"})(["padding:20px;margin:10px auto;max-width:1200px;"]),ue=o.ZP.header.withConfig({displayName:"Home__Header",componentId:"sc-qbo4uz-1"})(["display:flex;align-items:center;justify-content:center;height:60px;"]),se=o.ZP.h1.withConfig({displayName:"Home__Title",componentId:"sc-qbo4uz-2"})(["font-size:32px;font-weight:bold;"]),pe=o.ZP.div.withConfig({displayName:"Home__CheckListArea",componentId:"sc-qbo4uz-3"})(["margin:20px auto;max-width:800px;"]),fe=o.ZP.div.withConfig({displayName:"Home__CheckListTitle",componentId:"sc-qbo4uz-4"})(["font-size:20px;font-weight:bold;margin-bottom:16px;"]);function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var he=!0,be=function(e){return(0,g.jsx)("div",{children:(0,g.jsx)(ce,de({},e))})}},6057:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(1300)}])}},function(e){e.O(0,[774,825,888,179],(function(){return t=6057,e(e.s=t);var t}));var t=e.O();_N_E=t}]);